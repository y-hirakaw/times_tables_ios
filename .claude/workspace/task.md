# Task: 九九アプリの次期フェーズ機能検討・企画

## 目的・背景
現在の九九アプリは基本機能（問題出題、ポイント獲得、親のインセンティブ機能）が実装済み。次のフェーズとして何が必要かを検討し、ユーザー体験向上と継続的な学習促進のための新機能を企画する。

## 成功基準
- [ ] 現在のアプリ機能・構造の完全把握
- [ ] ユーザー体験上の課題・改善点の特定
- [ ] 次期フェーズ候補機能のリストアップ（優先順位付き）
- [ ] 各機能の実装難易度・工数見積もり
- [ ] 推奨実装順序の決定

## 実装計画
### Phase 1: 現状分析・調査
- [ ] 既存コードベース全体の調査（Models, Views, ViewStates）
- [ ] 現在の機能一覧とユーザーフローの整理
- [ ] SwiftData永続化データの確認
- [ ] 親ダッシュボード・統計機能の詳細確認
- [ ] UI/UX上の課題点の洗い出し

### Phase 2: 競合分析・機能検討
- [ ] 類似教育アプリの機能調査
- [ ] 子供向け学習アプリのベストプラクティス調査
- [ ] ゲーミフィケーション要素の検討
- [ ] 学習継続を促す仕組みの検討
- [ ] 保護者向け機能の拡張案検討

### Phase 3: 企画・優先順位付け
- [ ] 新機能候補の技術的実現性評価
- [ ] SwiftUI/SwiftData制約の考慮
- [ ] 実装工数とビジネス価値のマトリックス作成
- [ ] 次期フェーズの推奨機能セット決定

## 注意事項
- 現在のSVVS (Store-View-ViewState) アーキテクチャとの整合性を保つ
- 日本語（小学2年生レベル）とローカライゼーション要件を考慮
- Firebase Analytics/Performance連携も活用可能
- 既存のポイントシステム・親ダッシュボードとの連携を重視
- swift-testing フレームワークでのテスト可能性を考慮

## 進捗メモ

### 調査完了（2025-07-13）

#### 現状評価
- **基本機能**: 4つの問題モード、10秒タイマー、9択選択肢システム ✅
- **ポイントシステム**: 獲得・消費・ボーナス機能が完備 ✅
- **統計・分析機能**: 非常に詳細で優秀（段別統計、苦手問題判定、週間推移等） ✅
- **親用管理機能**: PIN認証、ポイント管理、学習データ確認 ✅
- **技術アーキテクチャ**: SVVS パターンによる優秀な設計 ✅

#### 発見した課題
- 学習継続モチベーションの単調さ
- 親子間直接コミュニケーション機能の不在
- ゲーミフィケーション要素の不足
- 子供向け進捗表示の複雑さ

### 次期フェーズ推奨機能（優先順位順）

#### 🥇 Phase 2A（最優先・即座開始推奨）
1. **子供向け進捗可視化システム**
   - 九九マスターマップ（島・城による段の可視化）
   - 簡単進捗バー（「あと○もんで かんせい」）
   - デイリーチャレンジ機能

2. **親子間コミュニケーション機能**
   - がんばりレポート（子→親）
   - 親からのメッセージ機能
   - 共有アチーブメント通知

**推定工数**: 3-4週間、既存データ活用可能、技術リスク低

#### 🥈 Phase 2B（高優先）
3. **ゲーミフィケーション要素**（レベル・バッジ・アバターシステム）
4. **学習モード拡張**（ストーリー・対戦・復習モード）

#### 🥉 Phase 2C（長期検討）
5. **個別化学習エンジン**（AI推奨問題・適応タイマー）
6. **社会機能**（クラスルーム連携・ランキング）

### 技術的推奨事項
- 既存のSVVSアーキテクチャ維持
- SwiftDataモデル拡張（MessageModel, AchievementModel等）
- swift-testingでのテストカバレッジ継続
- 既存統計データの最大活用

### 次のアクション
**即座実装推奨**: Phase 2A「子供向け進捗可視化システム」から開始
- 既存の優秀な統計データを子供にも分かりやすく表示
- 工数適度、確実な体験向上が見込める
- 既存アーキテクチャとの整合性良好